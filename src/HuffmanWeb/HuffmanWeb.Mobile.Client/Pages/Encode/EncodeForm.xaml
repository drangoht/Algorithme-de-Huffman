<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:HuffmanWeb.Mobile.Client.Pages.Encode.Components"
             x:Class="HuffmanWeb.Mobile.Client.Pages.Encode.EncodeForm"
             Title="Formulaire"
             Loaded="OnPageLoaded">
    <VerticalStackLayout VerticalOptions="Fill">
        
        <Label 
            Text="Saisissez le texte Ã  encoder"
            VerticalOptions="Center" 
            HorizontalOptions="Center" />
        <Border 
                    Padding="4,0"
                    HeightRequest="300" >
            <ScrollView HeightRequest="300"
                            HorizontalScrollBarVisibility="Always"
                            VerticalScrollBarVisibility="Always" WidthRequest="380" IsEnabled="True" ZIndex="2000">
                <Editor x:Name="textToEncode" Text="{Binding TextToEncode}"
            AutoSize="TextChanges" />
            </ScrollView>
        </Border>
        <Button x:Name="EncodeBtn" Margin="0,10" Padding="10,0" Text="Encoder" HorizontalOptions="Center" Clicked="EncodeBtn_Clicked"/>
        <ActivityIndicator IsVisible="{Binding IsWorking}" IsRunning="{Binding IsWorking}" />
        <components:HuffmanBinaryString HuffmanString="{Binding Response.EncodedBinaryString}" />
        <components:EncodingStatsDisplay 
            OriginalSize="{Binding Response.OriginalSize}" 
            EncodedSize="{Binding Response.EncodedSize}" 
            CompressionPercent="{Binding CompressionPercent}"/>
        <Button
                x:Name="MatchingTablebtn"
                Text="Table de correspondance" 
                SemanticProperties.Hint="Access to Matching table"
                Clicked="MatchingTablebtn_Clicked"
                HorizontalOptions="Fill" 
            IsVisible="False"/>
        <Button
                x:Name="TreeBtn"
                Text="Arbre" 
                SemanticProperties.Hint="Access to binary tree"
                Clicked="TreeBtn_Clicked"
                HorizontalOptions="Fill" 
            IsVisible="False"/>
    </VerticalStackLayout>
</ContentPage>
